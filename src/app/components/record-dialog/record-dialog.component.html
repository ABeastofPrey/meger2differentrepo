<div class="wrapper mat-typography">
  <div class="title primary-bg">
    {{ 'dashboard.record.title' | translate }}
  </div>
  <div class="content">
    <!-- <mat-form-field>
      <input
        placeholder="{{ 'duration' | translate }}"
        matInput
        [(ngModel)]="duration"
        virtualKeyboard
        ktype="numeric_int_pos"
      />
      <span matSuffix>ms.</span>
    </mat-form-field> -->
    <custom-key-board
      [(value)]="duration"
      placeHolder="{{ 'duration' | translate }}"
      type="int"
      suffix="ms."
      [min]="minDuration"
      [required] ="true"
      isPositiveNum="true"
    ></custom-key-board>
    <mat-slide-toggle color="primary" #advanced style="margin: 16px 0;">
      {{ 'advanced' | translate }}
    </mat-slide-toggle>
    <!-- <mat-form-field *ngIf="advanced.checked">
      <input
        type="text"
        placeholder="{{ 'files.name' | translate }}"
        matInput
        [formControl]="fileName"
        virtualKeyboard
        ktype="text"
      />
      <span matSuffix>.REC</span>
    </mat-form-field> -->
    <div *ngIf="advanced.checked">
        <custom-key-board type="string" placeHolder="{{ 'files.name' | translate }}" [suffix]="'.REC'"
            [value]="fileName.value" (valueChange)="changeFileName($event)" (blurEvent)="changeFileName($event)"
        ></custom-key-board>
    </div>
    <custom-key-board
      *ngIf="advanced.checked"
      [(value)]="gap"
      placeHolder="{{ 'gap' | translate }}"
      type="int"
      [min]="0"
      [leftClosedInterval] = "false"
      suffix="{{ 'gap_units' | translate }}"
      isPositiveNum="true"
    ></custom-key-board>
    <!-- <mat-form-field *ngIf="advanced.checked">
      <input
        placeholder="{{ 'gap' | translate }}"
        matInput
        [(ngModel)]="gap"
        virtualKeyboard
        ktype="numeric_int_pos"
      />
      <span matSuffix>{{ 'gap_units' | translate }}</span>
    </mat-form-field> -->
  </div>
</div>
<div class="actions">
  <button mat-button mat-dialog-close>
    {{ 'button.cancel' | translate }}
  </button>
  <button
    mat-raised-button
    color="primary"
    (click)="record()"
    [disabled]="
      (data && data.params.length === 0 && recMode === '1') ||
      !duration ||
      !gap ||
      !duration ||
      gap < 1 ||
      duration < minDuration ||
      fileName.invalid
    "
  >
    {{ 'dashboard.record.btnStart' | translate }}
  </button>
</div>
