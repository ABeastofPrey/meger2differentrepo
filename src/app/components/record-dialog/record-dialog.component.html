<div class="wrapper mat-typography">
  <div class="title primary-bg">
    {{ 'dashboard.record.title' | translate }}
  </div>
  <div class="content">
    <mat-form-field>
      <input
        type="number"
        placeholder="{{ 'duration' | translate }}"
        matInput
        [(ngModel)]="duration"
        virtualKeyboard
        ktype="numeric_int_pos"
      />
      <span matSuffix>ms.</span>
    </mat-form-field>
    <div style="margin-top: 16px;" *ngIf="data && recMode === '3'">
      <mat-form-field><input placeholder="X" matInput [(ngModel)]="x" virtualKeyboard ktype="text"/></mat-form-field>
      <mat-form-field><input placeholder="Y" matInput [(ngModel)]="y" virtualKeyboard ktype="text"/></mat-form-field>
      <mat-form-field><input placeholder="Z" matInput [(ngModel)]="z" virtualKeyboard ktype="text"/></mat-form-field>
    </div>
    <div style="margin-top: 16px;" *ngIf="data && recMode === '2'">
      <mat-form-field
        ><input placeholder="X" matInput [(ngModel)]="x2D" virtualKeyboard ktype="text"
      /></mat-form-field>
      <mat-form-field
        ><input placeholder="Y" matInput [(ngModel)]="y2D" virtualKeyboard ktype="text"
      /></mat-form-field>
    </div>
    <mat-slide-toggle color="primary" #advanced style="margin: 16px 0;">
      {{ 'advanced' | translate }}
    </mat-slide-toggle>
    <mat-form-field *ngIf="advanced.checked">
      <input
        type="text"
        placeholder="{{ 'files.name' | translate }}"
        matInput
        [(ngModel)]="fileName"
        virtualKeyboard
        ktype="text"
      />
      <span matSuffix>.REC</span>
    </mat-form-field>
    <mat-form-field *ngIf="advanced.checked">
      <input
      type="number"
      placeholder="{{ 'gap' | translate }}"
      matInput
      [(ngModel)]="gap"
      virtualKeyboard
      ktype="numeric_int_pos"
      />
      <span matSuffix>{{ 'gap_units' | translate }}</span>
    </mat-form-field>
  </div>
</div>
<div class="actions">
  <button mat-button mat-dialog-close>
    {{ 'button.cancel' | translate }}
  </button>
  <button
    mat-button
    color="primary"
    (click)="record()"
    [disabled]="
      (data && data.params.length === 0 && recMode === '1') ||
      duration === null ||
      gap < 1 ||
      duration < 10 ||
      (data && recMode === '3' &&
        (x === null || y === null || z === null || x.length === 0 || y.length === 0 || z.length === 0)) ||
      (recMode === '2' && (x2D === null || y2D === null || x2D.length === 0 || y2D.length === 0))
    "
  >
    {{ 'dashboard.record.btnStart' | translate }}
  </button>
</div>
